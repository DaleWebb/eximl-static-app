<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="../css/eximl.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <script src="../js/app.js"></script>
    </head>
    <body>
        <header class="header">
          <div class="header__logo">
            <img src="../img/365.png" />
          </div>
          <div class="quick-links">
            <a class="quick-links__button">Invite</a>
            <a class="quick-links__button">Reports</a>
            <a class="quick-links__button">Insurance</a>
            <a class="quick-links__button quick-links_button--disabled">Finance</a>
            <a class="quick-links__button">Membership</a>
            <a class="quick-links__button">Tokens</a>
          </div>
          <div class="user-actions">
            <div class="user-actions__item">
              <i class="fas fa-bell fa-2x mr-10"></i>
              <span class="notification">5</span>
              <span>Notifications</span>
            </div>
            <div class="user-actions__item">
              <i class="fas fa-user fa-2x mr-10"></i>
              <span>Sarah Potter</span>
            </div>
            <a class="user-actions__item" href="../auth/login.html">
              <i class="fas fa-sign-out-alt fa-2x mr-10"></i>
              <span>Logout</span>
            </a>
          </div>
        </header>
        <div class="sidebar">
          <div class="sidebar-links">
            <a class="sidebar-link" href="index.html">
              <span class="sidebar-link__icon">
                <i class="fa fa-tachometer-alt"></i>
              </span>
              <span class="sidebar-link__text">Dashboard</span>
            </a>
            <a class="sidebar-link" href="members.html">
              <span class="sidebar-link__icon">
                <i class="fa fa-users"></i>
              </span>
              <span class="sidebar-link__text">Members</span>
            </a>
            <a class="sidebar-link" href="invitations.html">
              <span class="sidebar-link__icon">
                <i class="fa fa-share-alt"></i>
              </span>
              <span class="sidebar-link__text">Invitations</span>
            </a>
            <a class="sidebar-link sidebar-link--active" href="trades.html">
              <span class="sidebar-link__icon">
                <i class="fa fa-handshake"></i>
              </span>
              <span class="sidebar-link__text">Trading</span>
            </a>
            <a class="sidebar-link" href="documents.html">
              <span class="sidebar-link__icon">
                <i class="fa fa-folder-open"></i>
              </span>
              <span class="sidebar-link__text">Documents</span>
            </a>
            <a class="sidebar-link" href="purchases.html">
              <span class="sidebar-link__icon">
                <i class="fa fa-wallet"></i>
              </span>
              <span class="sidebar-link__text">Purchases</span>
            </a>
            <a class="sidebar-link" href="settings-my-profile.html">
              <span class="sidebar-link__icon">
                <i class="fa fa-cog"></i>
              </span>
              <span class="sidebar-link__text">Settings</span>
            </a>
          </div>
          <a id="sidebar-trigger">
            <i class="fa fa-bars"></i>
          </a>
        </div>
        <div class="page">
          <div class="breadcrumbs">
            <div class="breadcrumb">
              Dashboard
            </div>
            <div class="breadcrumb">
              Trading
            </div>
            <div class="breadcrumb">
              New Transaction
            </div>
          </div>
          <div class="page__header">
            <h1>Trading - Finance</h1>
          </div>
          <div class="row">
            <div class="column column--fill mr-50">
              <table class="table table--horizontal table--full-width mb-20">
                <thead>
                  <tr>
                    <th></th>
                    <th>Trade ID</th>
                    <th>Invoice No.</th>
                    <th>Currency</th>
                    <th>Invoice Amount</th>
                    <th>Date Created</th>
                    <th>Buyer</th>
                    <th>Seller</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><input type="checkbox" checked/></td>
                    <td><a>1051</a></td>
                    <td>FP1234098</td>
                    <td>GBP</td>
                    <td>125,000</td>
                    <td>13 Feb 2019</td>
                    <td>Fantastic Plastic</td>
                    <td>Venus Ltd</td>
                  </tr>
                  <tr>
                    <td><input type="checkbox" checked/></td>
                    <td><a>1051</a></td>
                    <td>FP1234098</td>
                    <td>GBP</td>
                    <td>125,000</td>
                    <td>13 Feb 2019</td>
                    <td>Fantastic Plastic</td>
                    <td>Venus Ltd</td>
                  </tr>
                  <tr>
                    <td><input type="checkbox" checked/></td>
                    <td><a>1051</a></td>
                    <td>FP1234098</td>
                    <td>GBP</td>
                    <td>125,000</td>
                    <td>13 Feb 2019</td>
                    <td>Fantastic Plastic</td>
                    <td>Venus Ltd</td>
                  </tr>
                  <tr>
                    <td><input type="checkbox" checked/></td>
                    <td><a>1051</a></td>
                    <td>FP1234098</td>
                    <td>GBP</td>
                    <td>125,000</td>
                    <td>13 Feb 2019</td>
                    <td>Fantastic Plastic</td>
                    <td>Venus Ltd</td>
                  </tr>
                  <tr>
                    <td><input type="checkbox" checked/></td>
                    <td><a>1051</a></td>
                    <td>FP1234098</td>
                    <td>GBP</td>
                    <td>125,000</td>
                    <td>13 Feb 2019</td>
                    <td>Fantastic Plastic</td>
                    <td>Venus Ltd</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="column">
              <h3>Select order in which to request invoice finance from lenders</h3>
              <div class="row">
                <div class="column column--fill">
                  <select class="input-field" id="lenders" multiple>
                    <option value="1">ABC Ltd</option>
                    <option value="2">JKL Ltd</option>
                    <option value="3">MNO Ltd</option>
                    <option value="4">XYZ Ltd</option>
                  </select>
                </div>
                <div class="column">
                  <div class="buttons buttons--vertical m-20">
                    <a class="button button--medium lender-selector" data-move-from="lenders" data-move-to="selected-lenders">Add ></a>
                    <a class="button button--medium lender-selector" data-move-from="selected-lenders" data-move-to="lenders">< Remove</a>
                  </div>
                </div>
                <div class="column column--fill">
                  <select class="input-field" id="selected-lenders" multiple></select>
                </div>
              </div>
            </div>
          </div>
          <div class="row space-between">
            <div class="column">
              <div class="mb-20">5 selected</div>
            </div>
            <div class="column">
              <div class="buttons buttons--horizontal">
                <a class="button button--medium button--gray">Cancel</a>
                <a class="button button--medium button--disabled modal-trigger" id="confirmation-modal-trigger" data-modal="confirmation-modal">Submit</a>
              </div>
            </div>
          </div>
        </div>
        <footer class="footer">
          <span class="powered-by">powered by</span>
          <img src="../img/logo.png" />
        </footer>
        <div class="modal-overlay" id="confirmation-modal">
          <div class="modal">
            <div class="modal__header centre-text">
              <h3>Confirmation Notice</h3>
            </div>
            <div class="modal__body">
              <div class="row centre-text">
                <span style="color: red;">Manu to write:</span> You are about to submit these invoices to the following finance companies etc etc:
              </div>
              <div class="centre-text" id="list-of-selected-lenders"></div>
              <div class="centre-text">
                <label>
                  <input type="checkbox" name="" value="">
                  accept <a>Terms and Conditions</a>
                </label>
              </div>
            </div>
            <div class="modal__footer">
              <div class="buttons buttons--horizontal">
                <a class="button button--medium button--gray close-modal-trigger">Cancel</a>
                <a class="button button--medium close-modal-trigger">Submit</a>
              </div>
            </div>
          </div>
        </div>
        <script type="text/javascript">
          window.modalCallbacks['confirmation-modal'] = {
            beforeShow: function() {
              var selectedLenders = document.getElementById('selected-lenders').options;
              var selectedLendersNames = [];
              var selectedLendersWithinModal = document.getElementById('list-of-selected-lenders');

              while(selectedLendersWithinModal.lastChild) {
                selectedLendersWithinModal.removeChild(selectedLendersWithinModal.lastChild);
              }

              for(var i = 0; i < selectedLenders.length; i++) {
                selectedLendersNames.push(selectedLenders[i].innerText);
              }

              selectedLendersNames.forEach(function(selectedLenderName) {
                var lenderNameElement = document.createElement('div');
                var lenderNameElementInner = document.createElement('p');
                lenderNameElementInner.innerText = selectedLenderName;
                lenderNameElement.appendChild(lenderNameElementInner);
                selectedLendersWithinModal.appendChild(lenderNameElement);
              });
            }
          };
          window.lenderSelectorCallbacks['selected-lenders'] = {};
          window.lenderSelectorCallbacks['lenders'] = {};
          window.lenderSelectorCallbacks['selected-lenders'].onMoveTo = window.lenderSelectorCallbacks['lenders'].onMoveTo = function() {
            var selectedLenders = document.getElementById('selected-lenders').options;
            var confirmationModalTrigger = document.getElementById('confirmation-modal-trigger');

            if(selectedLenders.length > 0) {
              confirmationModalTrigger.classList.remove('button--disabled');
            } else {
              confirmationModalTrigger.classList.add('button--disabled');
            }
          }
        </script>
    </body>
</html>
